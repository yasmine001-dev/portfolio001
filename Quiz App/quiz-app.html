<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&family=Bebas+Neue&display=swap" rel="stylesheet"/>
<style>
  *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

  :root {
    --bg: #fdf6ec;
    --card: #fff;
    --ink: #1a1a2e;
    --muted: #7a7a9a;
    --orange: #ff6b35;
    --yellow: #ffc947;
    --green: #06d6a0;
    --red: #ef233c;
    --blue: #3a86ff;
    --purple: #8338ec;
  }

  body {
    font-family: 'Tajawal', sans-serif;
    background: var(--bg);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
  }

  /* BG SHAPES */
  body::before, body::after {
    content: '';
    position: fixed;
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
  }
  body::before {
    width: 500px; height: 500px;
    background: radial-gradient(circle, rgba(255,107,53,0.12), transparent 70%);
    top: -100px; right: -100px;
  }
  body::after {
    width: 400px; height: 400px;
    background: radial-gradient(circle, rgba(58,134,255,0.1), transparent 70%);
    bottom: -80px; left: -80px;
  }

  .app {
    width: 100%;
    max-width: 640px;
    position: relative;
    z-index: 1;
  }

  /* ===== SCREEN BASE ===== */
  .screen {
    display: none;
    animation: popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  }
  .screen.active { display: block; }

  @keyframes popIn {
    from { opacity: 0; transform: scale(0.88) translateY(20px); }
    to   { opacity: 1; transform: scale(1) translateY(0); }
  }

  /* ===== START SCREEN ===== */
  .start-card {
    background: var(--card);
    border-radius: 32px;
    padding: 3rem 2.5rem;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.08), 0 4px 0 var(--orange);
    border: 2px solid var(--ink);
  }

  .start-emoji {
    font-size: 5rem;
    display: block;
    margin-bottom: 1rem;
    animation: bounce 2s ease-in-out infinite;
  }

  @keyframes bounce {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-12px); }
  }

  .start-card h1 {
    font-size: 2.4rem;
    font-weight: 900;
    color: var(--ink);
    margin-bottom: 0.6rem;
    line-height: 1.2;
  }

  .start-card h1 span { color: var(--orange); }

  .start-card p {
    color: var(--muted);
    font-size: 1.05rem;
    line-height: 1.8;
    margin-bottom: 2rem;
  }

  .quiz-meta {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin-bottom: 2.5rem;
    flex-wrap: wrap;
  }

  .meta-badge {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    background: var(--bg);
    border: 1.5px solid #e8e0d4;
    padding: 0.5rem 1rem;
    border-radius: 100px;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--ink);
  }

  .btn-start {
    background: var(--orange);
    color: #fff;
    border: none;
    padding: 1rem 3rem;
    border-radius: 100px;
    font-family: 'Tajawal', sans-serif;
    font-size: 1.2rem;
    font-weight: 800;
    cursor: pointer;
    transition: all 0.25s;
    box-shadow: 0 6px 0 #c94e20;
    width: 100%;
    max-width: 280px;
  }

  .btn-start:hover { transform: translateY(-3px); box-shadow: 0 9px 0 #c94e20; }
  .btn-start:active { transform: translateY(3px); box-shadow: 0 3px 0 #c94e20; }

  /* ===== QUIZ SCREEN ===== */
  .quiz-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .q-counter {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--muted);
  }

  .q-counter span { color: var(--ink); font-size: 1.1rem; }

  .score-badge {
    background: var(--yellow);
    color: var(--ink);
    padding: 0.35rem 1rem;
    border-radius: 100px;
    font-weight: 800;
    font-size: 0.95rem;
    border: 2px solid var(--ink);
  }

  /* PROGRESS BAR */
  .progress-track {
    background: #e8e0d4;
    border-radius: 100px;
    height: 10px;
    margin-bottom: 2rem;
    overflow: hidden;
    border: 1.5px solid var(--ink);
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--orange), var(--yellow));
    border-radius: 100px;
    transition: width 0.4s ease;
  }

  /* TIMER */
  .timer-ring {
    width: 64px; height: 64px;
    position: relative;
    margin: 0 auto 1.5rem;
  }

  .timer-ring svg { transform: rotate(-90deg); }

  .timer-ring circle {
    fill: none;
    stroke-width: 5;
    stroke-linecap: round;
  }

  .timer-bg { stroke: #e8e0d4; }
  .timer-arc {
    stroke: var(--orange);
    stroke-dasharray: 163;
    stroke-dashoffset: 0;
    transition: stroke-dashoffset 1s linear, stroke 0.3s;
  }

  .timer-num {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-weight: 900;
    font-size: 1.2rem;
    color: var(--ink);
  }

  /* QUESTION CARD */
  .question-card {
    background: var(--card);
    border-radius: 24px;
    padding: 2rem;
    border: 2px solid var(--ink);
    box-shadow: 6px 6px 0 var(--ink);
    margin-bottom: 1.5rem;
  }

  .q-num-tag {
    display: inline-block;
    background: var(--orange);
    color: #fff;
    font-size: 0.8rem;
    font-weight: 800;
    padding: 0.25rem 0.8rem;
    border-radius: 100px;
    margin-bottom: 1rem;
    letter-spacing: 1px;
  }

  .question-text {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--ink);
    line-height: 1.6;
  }

  /* OPTIONS */
  .options-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.9rem;
  }

  @media (max-width: 480px) {
    .options-grid { grid-template-columns: 1fr; }
  }

  .option-btn {
    background: var(--card);
    border: 2px solid #d8d0c4;
    border-radius: 16px;
    padding: 1rem 1.2rem;
    font-family: 'Tajawal', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    color: var(--ink);
    cursor: pointer;
    text-align: right;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.7rem;
    position: relative;
    overflow: hidden;
  }

  .option-btn:hover:not(:disabled) {
    border-color: var(--orange);
    background: #fff8f5;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255,107,53,0.15);
  }

  .opt-letter {
    min-width: 32px; height: 32px;
    background: var(--bg);
    border: 1.5px solid #d8d0c4;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 0.85rem;
    transition: all 0.2s;
  }

  .option-btn.correct {
    background: #e8fdf5;
    border-color: var(--green);
    box-shadow: 0 4px 0 var(--green);
  }
  .option-btn.correct .opt-letter {
    background: var(--green);
    border-color: var(--green);
    color: #fff;
  }

  .option-btn.wrong {
    background: #ffeef0;
    border-color: var(--red);
    box-shadow: 0 4px 0 var(--red);
    animation: shake 0.4s ease;
  }
  .option-btn.wrong .opt-letter {
    background: var(--red);
    border-color: var(--red);
    color: #fff;
  }

  @keyframes shake {
    0%,100% { transform: translateX(0); }
    25% { transform: translateX(-6px); }
    75% { transform: translateX(6px); }
  }

  .option-btn:disabled { cursor: default; }

  /* FEEDBACK */
  .feedback-bar {
    background: var(--card);
    border-radius: 16px;
    padding: 1rem 1.5rem;
    border: 2px solid var(--ink);
    font-size: 1rem;
    font-weight: 700;
    text-align: center;
    margin-top: 1.2rem;
    display: none;
  }
  .feedback-bar.show { display: block; animation: popIn 0.3s ease; }
  .feedback-bar.correct { border-color: var(--green); background: #e8fdf5; color: #047857; }
  .feedback-bar.wrong { border-color: var(--red); background: #ffeef0; color: #be123c; }

  .btn-next {
    display: none;
    width: 100%;
    margin-top: 1.2rem;
    background: var(--ink);
    color: #fff;
    border: none;
    padding: 1rem;
    border-radius: 16px;
    font-family: 'Tajawal', sans-serif;
    font-size: 1.1rem;
    font-weight: 800;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 5px 0 rgba(0,0,0,0.3);
  }
  .btn-next.show { display: block; }
  .btn-next:hover { transform: translateY(-2px); }
  .btn-next:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(0,0,0,0.3); }

  /* ===== RESULT SCREEN ===== */
  .result-card {
    background: var(--card);
    border-radius: 32px;
    padding: 3rem 2.5rem;
    text-align: center;
    border: 2px solid var(--ink);
    box-shadow: 8px 8px 0 var(--ink);
  }

  .result-trophy {
    font-size: 5rem;
    display: block;
    margin-bottom: 1rem;
    animation: spin 0.6s cubic-bezier(0.34,1.56,0.64,1);
  }

  @keyframes spin {
    from { transform: rotate(-30deg) scale(0.5); opacity: 0; }
    to   { transform: rotate(0deg) scale(1); opacity: 1; }
  }

  .result-title {
    font-size: 2rem;
    font-weight: 900;
    color: var(--ink);
    margin-bottom: 0.5rem;
  }

  .result-subtitle {
    color: var(--muted);
    font-size: 1.05rem;
    margin-bottom: 2rem;
  }

  .score-circle {
    width: 140px; height: 140px;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    border: 4px solid var(--ink);
    box-shadow: 5px 5px 0 var(--ink);
    transition: background 0.5s;
  }

  .score-big {
    font-size: 2.8rem;
    font-weight: 900;
    line-height: 1;
    color: var(--ink);
  }

  .score-total {
    font-size: 0.9rem;
    color: var(--muted);
    font-weight: 600;
  }

  .result-stats {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .stat-pill {
    padding: 0.5rem 1.2rem;
    border-radius: 100px;
    font-weight: 700;
    font-size: 0.9rem;
    border: 2px solid var(--ink);
  }

  .pill-green { background: #e8fdf5; color: #047857; }
  .pill-red   { background: #ffeef0; color: #be123c; }
  .pill-blue  { background: #eef4ff; color: #1d4ed8; }

  .result-message {
    background: var(--bg);
    border-radius: 16px;
    padding: 1rem 1.5rem;
    border: 1.5px solid #e8e0d4;
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--ink);
    line-height: 1.7;
    margin-bottom: 2rem;
  }

  .result-btns {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .btn-retry {
    flex: 1;
    background: var(--orange);
    color: #fff;
    border: 2px solid var(--ink);
    padding: 0.9rem;
    border-radius: 16px;
    font-family: 'Tajawal', sans-serif;
    font-size: 1.05rem;
    font-weight: 800;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 4px 4px 0 var(--ink);
  }

  .btn-retry:hover { transform: translate(-2px,-2px); box-shadow: 6px 6px 0 var(--ink); }

  .btn-share {
    flex: 1;
    background: var(--blue);
    color: #fff;
    border: 2px solid var(--ink);
    padding: 0.9rem;
    border-radius: 16px;
    font-family: 'Tajawal', sans-serif;
    font-size: 1.05rem;
    font-weight: 800;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 4px 4px 0 var(--ink);
  }

  .btn-share:hover { transform: translate(-2px,-2px); box-shadow: 6px 6px 0 var(--ink); }

  /* CONFETTI */
  .confetti-container {
    position: fixed;
    top: 0; left: 0; right: 0;
    pointer-events: none;
    z-index: 999;
    overflow: hidden;
    height: 100vh;
  }

  .confetti-piece {
    position: absolute;
    width: 10px;
    height: 10px;
    top: -10px;
    animation: confettiFall linear both;
  }

  @keyframes confettiFall {
    to { transform: translateY(110vh) rotate(720deg); opacity: 0; }
  }
</style>
</head>
<body>

<div class="app">

  <!-- START -->
  <div class="screen active" id="startScreen">
    <div class="start-card">
      <span class="start-emoji">ğŸ§ </span>
      <h1>Ø§Ø®ØªØ¨Ø§Ø±<br/><span>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</span></h1>
      <p>10 Ø£Ø³Ø¦Ù„Ø© Ù…ØªÙ†ÙˆØ¹Ø© ÙÙŠ Ø§Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§.<br/>Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯ Ù„Ù„ØªØ­Ø¯ÙŠØŸ</p>
      <div class="quiz-meta">
        <div class="meta-badge">â±ï¸ 20 Ø«Ø§Ù†ÙŠØ©/Ø³Ø¤Ø§Ù„</div>
        <div class="meta-badge">â“ 10 Ø£Ø³Ø¦Ù„Ø©</div>
        <div class="meta-badge">ğŸ† 10 Ù†Ù‚Ø§Ø·</div>
      </div>
      <button class="btn-start" onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!</button>
    </div>
  </div>

  <!-- QUIZ -->
  <div class="screen" id="quizScreen">
    <div class="quiz-header">
      <div class="q-counter">Ø³Ø¤Ø§Ù„ <span id="currentQ">1</span> Ù…Ù† 10</div>
      <div class="score-badge">â­ <span id="liveScore">0</span> Ù†Ù‚Ø·Ø©</div>
    </div>
    <div class="progress-track">
      <div class="progress-fill" id="progressFill" style="width:0%"></div>
    </div>

    <div class="timer-ring">
      <svg width="64" height="64" viewBox="0 0 64 64">
        <circle class="timer-bg" cx="32" cy="32" r="26"/>
        <circle class="timer-arc" id="timerArc" cx="32" cy="32" r="26"/>
      </svg>
      <div class="timer-num" id="timerNum">20</div>
    </div>

    <div class="question-card">
      <div class="q-num-tag" id="qNumTag">Ø³Ø¤Ø§Ù„ 01</div>
      <div class="question-text" id="questionText">...</div>
    </div>

    <div class="options-grid" id="optionsGrid"></div>
    <div class="feedback-bar" id="feedbackBar"></div>
    <button class="btn-next" id="btnNext" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†</button>
  </div>

  <!-- RESULT -->
  <div class="screen" id="resultScreen">
    <div class="result-card">
      <span class="result-trophy" id="resultTrophy">ğŸ†</span>
      <div class="result-title" id="resultTitle">Ø£Ø­Ø³Ù†Øª!</div>
      <div class="result-subtitle" id="resultSubtitle">Ù„Ù‚Ø¯ Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</div>

      <div class="score-circle" id="scoreCircle">
        <div class="score-big" id="finalScore">0</div>
        <div class="score-total">Ù…Ù† 10</div>
      </div>

      <div class="result-stats">
        <div class="stat-pill pill-green">âœ… <span id="correctCount">0</span> ØµØ­</div>
        <div class="stat-pill pill-red">âŒ <span id="wrongCount">0</span> ØºÙ„Ø·</div>
        <div class="stat-pill pill-blue">â±ï¸ <span id="timeTaken">0</span> Ø«Ø§Ù†ÙŠØ©</div>
      </div>

      <div class="result-message" id="resultMessage">Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§</div>

      <div class="result-btns">
        <button class="btn-retry" onclick="retryQuiz()">ğŸ”„ Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹</button>
        <button class="btn-share" onclick="shareResult()">ğŸ“¤ Ø´Ø§Ø±Ùƒ Ù†ØªÙŠØ¬ØªÙƒ</button>
      </div>
    </div>
  </div>

</div>

<div class="confetti-container" id="confettiContainer"></div>

<script>
const QUESTIONS = [
  {
    q: "Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù…Ø³Ø§Ø­Ø©ØŸ",
    opts: ["ÙƒÙ†Ø¯Ø§", "Ø±ÙˆØ³ÙŠØ§", "Ø§Ù„ØµÙŠÙ†", "Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©"],
    ans: 1,
    fact: "Ø±ÙˆØ³ÙŠØ§ ØªØ¨Ù„Øº Ù…Ø³Ø§Ø­ØªÙ‡Ø§ 17 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ…Â² ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹!"
  },
  {
    q: "ÙƒÙ… Ø¹Ø¯Ø¯ ÙƒÙˆØ§ÙƒØ¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ",
    opts: ["7", "8", "9", "10"],
    ans: 1,
    fact: "Ù‡Ù…: Ø¹Ø·Ø§Ø±Ø¯ØŒ Ø§Ù„Ø²Ù‡Ø±Ø©ØŒ Ø§Ù„Ø£Ø±Ø¶ØŒ Ø§Ù„Ù…Ø±ÙŠØ®ØŒ Ø§Ù„Ù…Ø´ØªØ±ÙŠØŒ Ø²Ø­Ù„ØŒ Ø£ÙˆØ±Ø§Ù†ÙˆØ³ØŒ Ù†Ø¨ØªÙˆÙ†."
  },
  {
    q: "Ù…Ù† Ø§Ø®ØªØ±Ø¹ Ø§Ù„Ù…ØµØ¨Ø§Ø­ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ",
    opts: ["Ù†ÙŠÙƒÙˆÙ„Ø§ ØªØ³Ù„Ø§", "ØºØ±Ø§Ù‡Ø§Ù… Ø¨ÙŠÙ„", "ØªÙˆÙ…Ø§Ø³ Ø¥Ø¯ÙŠØ³ÙˆÙ†", "Ø£Ù„Ø¨Ø±Øª Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†"],
    ans: 2,
    fact: "Ø¥Ø¯ÙŠØ³ÙˆÙ† Ø·ÙˆØ± Ø§Ù„Ù…ØµØ¨Ø§Ø­ Ø¹Ø§Ù… 1879Ù…."
  },
  {
    q: "Ù…Ø§ Ù‡Ùˆ Ø£Ø¹Ù…Ù‚ Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
    opts: ["Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ", "Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ù†Ø¯ÙŠ", "Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù…ØªØ¬Ù…Ø¯", "Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦"],
    ans: 3,
    fact: "Ø£Ø¹Ù…Ù‚ Ù†Ù‚Ø·Ø© ÙÙŠ Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦ Ù‡ÙŠ Ø®Ù†Ø¯Ù‚ Ù…Ø§Ø±ÙŠØ§Ù†Ø§ â€” 11 ÙƒÙ…!"
  },
  {
    q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø£Ø³ØªØ±Ø§Ù„ÙŠØ©ØŸ",
    opts: ["Ø³ÙŠØ¯Ù†ÙŠ", "Ù…Ù„Ø¨ÙˆØ±Ù†", "ÙƒØ§Ù†Ø¨ÙŠØ±Ø§", "Ø¨Ø±ÙŠØ²Ø¨Ø§Ù†"],
    ans: 2,
    fact: "ÙƒØ§Ù†Ø¨ÙŠØ±Ø§ Ø£ØµØ¨Ø­Øª Ø¹Ø§ØµÙ…Ø© Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§ Ø¹Ø§Ù… 1913Ù…."
  },
  {
    q: "Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠ Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„Ø£Ø±Ø¶ØŸ",
    opts: ["Ø§Ù„Ø£Ø³Ø¯", "Ø§Ù„ÙÙ‡Ø¯", "Ø§Ù„Ø­ØµØ§Ù†", "Ø§Ù„ØºØ²Ø§Ù„"],
    ans: 1,
    fact: "Ø§Ù„ÙÙ‡Ø¯ ÙŠØµÙ„ Ù„Ù€ 112 ÙƒÙ…/Ø³Ø§Ø¹Ø© ÙÙŠ Ø«ÙˆØ§Ù†Ù Ù…Ø¹Ø¯ÙˆØ¯Ø©!"
  },
  {
    q: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø¨Ø¯Ø£Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŸ",
    opts: ["1912", "1914", "1916", "1918"],
    ans: 1,
    fact: "Ø§Ù†Ø¯Ù„Ø¹Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ ÙŠÙˆÙ„ÙŠÙˆ 1914Ù…."
  },
  {
    q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ù„ÙˆØ§Ù† Ù‚ÙˆØ³ Ù‚Ø²Ø­ØŸ",
    opts: ["5", "6", "7", "8"],
    ans: 2,
    fact: "Ø£Ø­Ù…Ø±ØŒ Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠØŒ Ø£ØµÙØ±ØŒ Ø£Ø®Ø¶Ø±ØŒ Ø£Ø²Ø±Ù‚ØŒ Ù†ÙŠÙ„ÙŠØŒ Ø¨Ù†ÙØ³Ø¬ÙŠ."
  },
  {
    q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ù…Ø² Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ù„Ù„Ø°Ù‡Ø¨ØŸ",
    opts: ["Go", "Gd", "Gl", "Au"],
    ans: 3,
    fact: "Au Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù„Ø§ØªÙŠÙ†ÙŠØ© Aurum Ø§Ù„ØªÙŠ ØªØ¹Ù†ÙŠ Ø§Ù„Ø°Ù‡Ø¨."
  },
  {
    q: "Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
    opts: ["Ù†Ù‡Ø± Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†", "Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„", "Ù†Ù‡Ø± Ø§Ù„Ù…Ø³ÙŠØ³ÙŠØ¨ÙŠ", "Ù†Ù‡Ø± Ø§Ù„ÙŠØ§Ù†ØºØªØ³ÙŠ"],
    ans: 1,
    fact: "ÙŠÙ…ØªØ¯ Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„ Ù„Ø£ÙƒØ«Ø± Ù…Ù† 6650 ÙƒÙŠÙ„ÙˆÙ…ØªØ±Ø§Ù‹."
  }
];

const LETTERS = ['Ø£', 'Ø¨', 'Ø¬', 'Ø¯'];

let currentIndex = 0;
let score = 0;
let correctCount = 0;
let wrongCount = 0;
let answered = false;
let timer = null;
let timeLeft = 20;
let startTime = 0;

function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function startQuiz() {
  currentIndex = 0;
  score = 0;
  correctCount = 0;
  wrongCount = 0;
  startTime = Date.now();
  showScreen('quizScreen');
  loadQuestion();
}

function loadQuestion() {
  answered = false;
  const q = QUESTIONS[currentIndex];

  document.getElementById('currentQ').textContent = currentIndex + 1;
  document.getElementById('liveScore').textContent = score;
  document.getElementById('qNumTag').textContent = 'Ø³Ø¤Ø§Ù„ ' + String(currentIndex + 1).padStart(2,'0');
  document.getElementById('questionText').textContent = q.q;
  document.getElementById('progressFill').style.width = ((currentIndex / 10) * 100) + '%';
  document.getElementById('feedbackBar').className = 'feedback-bar';
  document.getElementById('btnNext').className = 'btn-next';

  const grid = document.getElementById('optionsGrid');
  grid.innerHTML = '';
  q.opts.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.className = 'option-btn';
    btn.innerHTML = `<span class="opt-letter">${LETTERS[i]}</span>${opt}`;
    btn.onclick = () => selectAnswer(i, btn);
    grid.appendChild(btn);
  });

  startTimer();
}

function startTimer() {
  clearInterval(timer);
  timeLeft = 20;
  updateTimerDisplay();

  timer = setInterval(() => {
    timeLeft--;
    updateTimerDisplay();
    if (timeLeft <= 0) {
      clearInterval(timer);
      if (!answered) timeUp();
    }
  }, 1000);
}

function updateTimerDisplay() {
  document.getElementById('timerNum').textContent = timeLeft;
  const arc = document.getElementById('timerArc');
  const pct = timeLeft / 20;
  arc.style.strokeDashoffset = 163 * (1 - pct);
  arc.style.stroke = timeLeft <= 5 ? '#ef233c' : timeLeft <= 10 ? '#ffc947' : '#ff6b35';
}

function timeUp() {
  answered = true;
  disableOptions();
  const q = QUESTIONS[currentIndex];
  markCorrect(q.ans);
  showFeedback(false, "â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: " + q.opts[q.ans]);
  wrongCount++;
  document.getElementById('btnNext').className = 'btn-next show';
}

function selectAnswer(idx, btn) {
  if (answered) return;
  answered = true;
  clearInterval(timer);

  const q = QUESTIONS[currentIndex];
  disableOptions();

  if (idx === q.ans) {
    btn.classList.add('correct');
    score++;
    correctCount++;
    showFeedback(true, "âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! " + q.fact);
  } else {
    btn.classList.add('wrong');
    wrongCount++;
    markCorrect(q.ans);
    showFeedback(false, "âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! " + q.fact);
  }

  document.getElementById('liveScore').textContent = score;
  document.getElementById('btnNext').className = 'btn-next show';

  if (currentIndex === 9) {
    document.getElementById('btnNext').textContent = 'Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© ğŸ†';
  }
}

function markCorrect(idx) {
  const btns = document.querySelectorAll('.option-btn');
  btns[idx].classList.add('correct');
}

function disableOptions() {
  document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);
}

function showFeedback(correct, msg) {
  const fb = document.getElementById('feedbackBar');
  fb.textContent = msg;
  fb.className = 'feedback-bar show ' + (correct ? 'correct' : 'wrong');
}

function nextQuestion() {
  currentIndex++;
  if (currentIndex >= 10) {
    showResult();
  } else {
    loadQuestion();
  }
}

function showResult() {
  clearInterval(timer);
  const timeTaken = Math.round((Date.now() - startTime) / 1000);
  showScreen('resultScreen');

  document.getElementById('finalScore').textContent = score;
  document.getElementById('correctCount').textContent = correctCount;
  document.getElementById('wrongCount').textContent = wrongCount;
  document.getElementById('timeTaken').textContent = timeTaken;

  const pct = (score / 10) * 100;
  let trophy, title, subtitle, msg, bg;

  if (pct === 100) {
    trophy = 'ğŸ†'; title = 'Ù…Ø«Ø§Ù„ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹!'; subtitle = 'Ø£Ù†Øª Ù†Ø¬Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!';
    msg = 'ÙˆØ§Ùˆ! Ø¹Ø´Ø±Ø© Ù…Ù† Ø¹Ø´Ø±Ø©! Ø°ÙƒØ§Ø¡ÙŒ Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆØªØ±ÙƒÙŠØ² Ù…Ø°Ù‡Ù„. Ø£Ù†Øª Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù†Ø§Ø¯Ø±!';
    bg = '#fffbeb';
    launchConfetti();
  } else if (pct >= 80) {
    trophy = 'ğŸ¥‡'; title = 'Ù…Ù…ØªØ§Ø²!'; subtitle = 'Ù†ØªÙŠØ¬Ø© Ø±Ø§Ø¦Ø¹Ø© Ø¬Ø¯Ø§Ù‹';
    msg = 'ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ø£Ø¬Ø¨Øª Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø². Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø¹Ø§Ù…Ø© Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹!';
    bg = '#f0fdf4';
    launchConfetti();
  } else if (pct >= 60) {
    trophy = 'ğŸ¥ˆ'; title = 'ÙƒÙˆÙŠØ³!'; subtitle = 'Ù†ØªÙŠØ¬Ø© Ø¬ÙŠØ¯Ø©';
    msg = 'Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯! Ù…Ø¹ Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø© Ø£Ø¹Ù„Ù‰ ÙÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.';
    bg = '#eff6ff';
  } else if (pct >= 40) {
    trophy = 'ğŸ¥‰'; title = 'Ù…Ø´ Ø¨Ø·Ø§Ù„!'; subtitle = 'ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­Ø³ÙŠÙ†';
    msg = 'Ù„Ø§ Ø¨Ø£Ø³! Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙƒØ§Ù† ØµØ¹Ø¨ Ù‚Ù„ÙŠÙ„Ø§Ù‹. Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ ÙˆØ³ØªÙØ§Ø¬Ø¦ Ù†ÙØ³Ùƒ!';
    bg = '#fef9c3';
  } else {
    trophy = 'ğŸ’ª'; title = 'Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹!'; subtitle = 'Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù‡ÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©';
    msg = 'Ù„Ø§ ØªØ³ØªØ³Ù„Ù…! ÙƒÙ„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ²ÙŠØ¯ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ. Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø³ØªÙƒÙˆÙ† Ø£ÙØ¶Ù„!';
    bg = '#fff1f2';
  }

  document.getElementById('resultTrophy').textContent = trophy;
  document.getElementById('resultTitle').textContent = title;
  document.getElementById('resultSubtitle').textContent = subtitle;
  document.getElementById('resultMessage').textContent = msg;
  document.getElementById('scoreCircle').style.background = bg;
}

function retryQuiz() {
  document.getElementById('confettiContainer').innerHTML = '';
  startQuiz();
}

function shareResult() {
  const text = `Ø£Ù†Ù‡ÙŠØª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ­ØµÙ„Øª Ø¹Ù„Ù‰ ${score}/10 ğŸ†\nØ¬Ø±Ù‘Ø¨Ù‡ Ø£Ù†Øª ÙƒÙ…Ø§Ù†!`;
  if (navigator.share) {
    navigator.share({ title: 'Ù†ØªÙŠØ¬ØªÙŠ ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±', text });
  } else {
    navigator.clipboard.writeText(text).then(() => alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©! Ø´Ø§Ø±ÙƒÙ‡Ø§ Ù…Ø¹ Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ ğŸ‰'));
  }
}

function launchConfetti() {
  const container = document.getElementById('confettiContainer');
  container.innerHTML = '';
  const colors = ['#ff6b35','#ffc947','#06d6a0','#3a86ff','#ef233c','#8338ec'];
  for (let i = 0; i < 80; i++) {
    const piece = document.createElement('div');
    piece.className = 'confetti-piece';
    const color = colors[Math.floor(Math.random() * colors.length)];
    const x = Math.random() * 100;
    const delay = Math.random() * 2;
    const duration = 2 + Math.random() * 2;
    const size = 6 + Math.random() * 10;
    const shape = Math.random() > 0.5 ? '50%' : '2px';
    piece.style.cssText = `
      left:${x}vw; width:${size}px; height:${size}px;
      background:${color}; border-radius:${shape};
      animation-duration:${duration}s; animation-delay:${delay}s;
    `;
    container.appendChild(piece);
  }
}
</script>
</body>
</html>
