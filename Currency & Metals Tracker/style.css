*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

[data-theme="dark"] {
  --bg:         #080810;
  --bg2:        #0e0e1a;
  --surface:    #12121f;
  --surface2:   #1a1a2e;
  --border:     rgba(255,255,255,0.07);
  --text:       #f0efe8;
  --muted:      #7070a0;
  --muted2:     #4a4a70;
  --gold:       #d4a843;
  --gold-light: #f5cc6e;
  --gold-dim:   rgba(212,168,67,0.12);
  --up:         #26c96f;
  --up-dim:     rgba(38,201,111,0.12);
  --down:       #e8455a;
  --down-dim:   rgba(232,69,90,0.12);
  --neutral:    #7070a0;
  --shadow:     rgba(0,0,0,0.5);
  --nav-bg:     rgba(8,8,16,0.85);
}
[data-theme="light"] {
  --bg:         #f8f4ec;
  --bg2:        #f2ece0;
  --surface:    #ffffff;
  --surface2:   #fdf8f0;
  --border:     rgba(0,0,0,0.09);
  --text:       #1a1520;
  --muted:      #7a7090;
  --muted2:     #b0a8c0;
  --gold:       #b8870a;
  --gold-light: #d4a020;
  --gold-dim:   rgba(184,135,10,0.1);
  --up:         #1a9955;
  --up-dim:     rgba(26,153,85,0.1);
  --down:       #cc2a3f;
  --down-dim:   rgba(204,42,63,0.1);
  --neutral:    #9090b0;
  --shadow:     rgba(0,0,0,0.1);
  --nav-bg:     rgba(248,244,236,0.92);
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Cairo', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  transition: background 0.4s, color 0.4s;
  overflow-x: hidden;
}

/* ===== WELCOME OVERLAY ===== */
#welcomeOverlay {
  position: fixed; inset: 0; z-index: 9999;
  background: var(--bg);
  display: flex; align-items: center; justify-content: center;
  padding: 20px;
  transition: opacity 0.5s, transform 0.5s;
}
#welcomeOverlay.hide {
  opacity: 0;
  transform: scale(1.04);
  pointer-events: none;
}

.welcome-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 28px;
  padding: 3rem 2.5rem;
  max-width: 520px; width: 100%;
  text-align: center;
  box-shadow: 0 30px 80px var(--shadow);
  position: relative;
  overflow: hidden;
  animation: popIn 0.6s cubic-bezier(0.34,1.56,0.64,1) both;
}
@keyframes popIn { from{opacity:0;transform:scale(0.85) translateY(30px)} to{opacity:1;transform:scale(1) translateY(0)} }

.welcome-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 3px;
  background: linear-gradient(90deg, var(--gold), var(--gold-light), var(--gold));
}

.welcome-gem {
  font-size: 3.5rem;
  display: block; margin-bottom: 1rem;
  animation: gemFloat 3s ease-in-out infinite;
}
@keyframes gemFloat { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }

.welcome-card h1 {
  font-family: 'Playfair Display', serif;
  font-size: 1.9rem; font-weight: 900;
  color: var(--gold);
  margin-bottom: 0.4rem;
}
.welcome-card .welcome-sub {
  color: var(--muted); font-size: 0.95rem;
  margin-bottom: 2rem; line-height: 1.7;
}

/* Lang toggle on welcome */
.lang-row {
  display: flex; gap: 0.6rem; justify-content: center;
  margin-bottom: 2rem;
}
.lang-btn {
  padding: 0.45rem 1.2rem;
  border-radius: 100px;
  border: 1.5px solid var(--border);
  background: transparent;
  color: var(--muted);
  font-family: 'Cairo', sans-serif;
  font-size: 0.9rem; font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
}
.lang-btn.active {
  background: var(--gold-dim);
  border-color: var(--gold);
  color: var(--gold);
}

.welcome-label {
  font-size: 0.88rem; color: var(--muted);
  margin-bottom: 1rem; font-weight: 600;
}

/* Currency selector */
.currency-selector {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 0.7rem; margin-bottom: 2rem;
}
.curr-opt {
  background: var(--bg);
  border: 1.5px solid var(--border);
  border-radius: 14px;
  padding: 0.8rem 1rem;
  display: flex; align-items: center; gap: 0.7rem;
  cursor: pointer;
  transition: all 0.2s;
  text-align: right;
}
.curr-opt:hover { border-color: rgba(212,168,67,0.4); background: var(--gold-dim); }
.curr-opt.selected { border-color: var(--gold); background: var(--gold-dim); }
.curr-opt .co-flag { font-size: 1.4rem; }
.curr-opt .co-info { flex: 1; }
.curr-opt .co-code { font-family:'JetBrains Mono',monospace; font-size:0.8rem; color:var(--muted); }
.curr-opt .co-name { font-size:0.82rem; font-weight:700; color:var(--text); }

.btn-enter {
  width: 100%;
  background: linear-gradient(135deg, var(--gold), var(--gold-light));
  color: #000;
  border: none;
  padding: 1rem;
  border-radius: 14px;
  font-family: 'Cairo', sans-serif;
  font-size: 1.1rem; font-weight: 900;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 6px 20px rgba(212,168,67,0.3);
}
.btn-enter:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(212,168,67,0.4); }
.btn-enter:active { transform: translateY(0); }

/* ===== AMBIENT ===== */
.ambient { position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden; }
.amb-blob { position:absolute; border-radius:50%; filter:blur(130px); }
.amb-1 { width:700px; height:700px; background:radial-gradient(circle,rgba(212,168,67,0.07),transparent 70%); top:-200px; right:-200px; animation:drift1 12s ease-in-out infinite; }
.amb-2 { width:500px; height:500px; background:radial-gradient(circle,rgba(100,120,255,0.05),transparent 70%); bottom:-100px; left:-100px; animation:drift2 15s ease-in-out infinite; }
[data-theme="light"] .amb-1 { background:radial-gradient(circle,rgba(212,168,67,0.1),transparent 70%); }
[data-theme="light"] .amb-2 { background:radial-gradient(circle,rgba(100,120,255,0.08),transparent 70%); }
@keyframes drift1 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(-40px,50px)} }
@keyframes drift2 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(30px,-40px)} }

/* ===== NAV ===== */
nav {
  position: sticky; top:0; z-index:100;
  padding: 0 5vw; height:68px;
  display:flex; align-items:center; justify-content:space-between;
  backdrop-filter: blur(24px);
  background: var(--nav-bg);
  border-bottom: 1px solid var(--border);
  transition: background 0.4s;
}
.nav-logo { display:flex; align-items:center; gap:0.7rem; }
.logo-gem {
  width:36px; height:36px;
  background: linear-gradient(135deg, var(--gold), var(--gold-light));
  border-radius:10px; display:flex; align-items:center; justify-content:center;
  font-size:1.1rem; box-shadow:0 4px 12px rgba(212,168,67,0.3);
}
.logo-text {
  font-family:'Playfair Display',serif;
  font-size:1.2rem; font-weight:700; color:var(--gold);
}
.nav-right { display:flex; align-items:center; gap:0.8rem; }

.live-badge {
  display:flex; align-items:center; gap:0.4rem;
  background:var(--up-dim); border:1px solid rgba(38,201,111,0.2);
  color:var(--up); padding:0.3rem 0.8rem;
  border-radius:100px; font-size:0.78rem; font-weight:700;
}
.live-dot { width:7px; height:7px; background:var(--up); border-radius:50%; animation:blink 1.5s infinite; }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }

/* ===== FIXED THEME TOGGLE ===== */
.theme-toggle {
  width: 60px; height: 30px;
  background: var(--surface2);
  border: 1.5px solid var(--border);
  border-radius: 100px;
  cursor: pointer;
  position: relative;
  display: flex; align-items: center;
  padding: 3px;
  transition: background 0.3s, border-color 0.3s;
  flex-shrink: 0;
}
.theme-toggle:hover { border-color: var(--gold); }

.toggle-track {
  position: relative; width: 100%; height: 100%;
  display: flex; align-items: center;
}
.toggle-icon-left, .toggle-icon-right {
  font-size: 0.7rem;
  position: absolute;
  line-height: 1;
  transition: opacity 0.3s;
  pointer-events: none;
}
.toggle-icon-left  { left: 3px; }   /* üåô ‚Äî show in dark  */
.toggle-icon-right { right: 3px; }  /* ‚òÄÔ∏è ‚Äî show in light */

[data-theme="dark"]  .toggle-icon-left  { opacity: 0.6; }
[data-theme="dark"]  .toggle-icon-right { opacity: 0.2; }
[data-theme="light"] .toggle-icon-left  { opacity: 0.2; }
[data-theme="light"] .toggle-icon-right { opacity: 0.8; }

.toggle-thumb {
  width: 22px; height: 22px;
  background: linear-gradient(135deg, var(--gold), var(--gold-light));
  border-radius: 50%;
  position: absolute;
  top: 50%; transform: translateY(-50%);
  transition: left 0.3s cubic-bezier(0.34,1.56,0.64,1);
  box-shadow: 0 2px 8px rgba(212,168,67,0.5);
  z-index: 1;
}
[data-theme="dark"]  .toggle-thumb { left: 3px; }
[data-theme="light"] .toggle-thumb { left: calc(100% - 25px); }

/* ===== LANGUAGE TOGGLE in nav ===== */
.nav-lang {
  display: flex; gap: 0;
  background: var(--surface2);
  border: 1.5px solid var(--border);
  border-radius: 100px;
  overflow: hidden;
  font-size: 0.8rem;
}
.nav-lang button {
  padding: 0.3rem 0.7rem;
  background: transparent;
  border: none; cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 0.8rem; font-weight: 700;
  color: var(--muted);
  transition: all 0.2s;
}
.nav-lang button.active {
  background: var(--gold-dim);
  color: var(--gold);
}

/* ===== HERO ===== */
.hero {
  padding: 70px 5vw 50px;
  position: relative; z-index:1; text-align:center;
  max-width:900px; margin:0 auto;
  animation: fadeUp 0.7s ease both;
}
@keyframes fadeUp { from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:translateY(0)} }

.hero-eyebrow {
  display:inline-flex; align-items:center; gap:0.5rem;
  font-family:'JetBrains Mono',monospace; font-size:0.8rem; letter-spacing:2px;
  color:var(--gold); border:1px solid rgba(212,168,67,0.3); background:var(--gold-dim);
  padding:0.35rem 1rem; border-radius:100px; margin-bottom:1.8rem; text-transform:uppercase;
}
.hero h1 {
  font-family:'Playfair Display',serif;
  font-size:clamp(2.4rem,6vw,4.5rem); font-weight:900; line-height:1.15;
  margin-bottom:1rem;
  background:linear-gradient(135deg, var(--text) 40%, var(--gold));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.hero p { color:var(--muted); font-size:1.05rem; line-height:1.9; max-width:520px; margin:0 auto 0.8rem; }
.last-update { font-family:'JetBrains Mono',monospace; font-size:0.75rem; color:var(--muted2); margin-top:0.4rem; }

/* ===== SECTIONS ===== */
.section { padding:0 5vw 70px; position:relative; z-index:1; max-width:1200px; margin:0 auto; }
.section-label { display:flex; align-items:center; gap:0.8rem; margin-bottom:1.5rem; }
.section-label h2 { font-family:'Playfair Display',serif; font-size:1.4rem; font-weight:700; white-space:nowrap; }
.section-line { flex:1; height:1px; background:linear-gradient(90deg, var(--border), transparent); }

/* ===== METALS ===== */
.metals-grid { display:grid; grid-template-columns:1fr 1fr; gap:1.2rem; margin-bottom:3rem; }
@media(max-width:580px){ .metals-grid{grid-template-columns:1fr} }

.metal-card {
  background:var(--surface); border:1px solid var(--border); border-radius:22px;
  padding:1.8rem; position:relative; overflow:hidden; transition:transform 0.3s, box-shadow 0.3s;
}
.metal-card:hover { transform:translateY(-5px); box-shadow:0 20px 50px var(--shadow); }
.metal-card::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; border-radius:22px 22px 0 0; }
.gold-card  { background:linear-gradient(145deg,var(--surface) 0%,rgba(212,168,67,0.05) 100%); border-color:rgba(212,168,67,0.2); }
.gold-card::before  { background:linear-gradient(90deg,var(--gold),var(--gold-light),var(--gold)); }
.silver-card { background:linear-gradient(145deg,var(--surface) 0%,rgba(192,200,216,0.05) 100%); border-color:rgba(192,200,216,0.15); }
.silver-card::before { background:linear-gradient(90deg,#8090b0,#c0c8d8,#8090b0); }

.metal-top { display:flex; align-items:center; justify-content:space-between; margin-bottom:1.4rem; }
.metal-icon { width:48px; height:48px; border-radius:14px; display:flex; align-items:center; justify-content:center; font-size:1.5rem; }
.gold-icon   { background:linear-gradient(135deg,rgba(212,168,67,0.2),rgba(245,204,110,0.1)); }
.silver-icon { background:linear-gradient(135deg,rgba(192,200,216,0.15),rgba(192,200,216,0.05)); }

.metal-change { display:flex; align-items:center; gap:0.3rem; padding:0.3rem 0.8rem; border-radius:100px; font-family:'JetBrains Mono',monospace; font-size:0.8rem; font-weight:600; }
.change-up   { background:var(--up-dim);   color:var(--up); }
.change-down { background:var(--down-dim); color:var(--down); }

.metal-name  { font-family:'Playfair Display',serif; font-size:0.95rem; color:var(--muted); margin-bottom:0.3rem; }
.metal-price { font-family:'JetBrains Mono',monospace; font-size:2.2rem; font-weight:600; line-height:1; color:var(--text); transition:color 0.5s; }
.gold-card .metal-price { color:var(--gold); }
.metal-price.flash-up   { color:var(--up)   !important; }
.metal-price.flash-down { color:var(--down) !important; }
.metal-unit  { font-size:0.82rem; color:var(--muted); margin-top:0.3rem; margin-bottom:1.2rem; }

.metal-stats { display:flex; gap:1rem; padding-top:1.2rem; border-top:1px solid var(--border); flex-wrap:wrap; }
.mstat { flex:1; min-width:60px; }
.mstat-label { font-size:0.72rem; color:var(--muted2); margin-bottom:0.2rem; }
.mstat-val   { font-family:'JetBrains Mono',monospace; font-size:0.85rem; font-weight:600; }
.mini-chart  { width:100%; height:46px; margin-top:1rem; }
.mini-chart svg { width:100%; height:100%; overflow:visible; }

/* ===== CURRENCIES ===== */
.currencies-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(210px,1fr)); gap:1rem; }
.currency-card {
  background:var(--surface); border:1px solid var(--border); border-radius:16px;
  padding:1.2rem 1.4rem; display:flex; align-items:center; gap:1rem; transition:all 0.3s;
}
.currency-card:hover { transform:translateY(-4px); border-color:rgba(212,168,67,0.25); box-shadow:0 10px 30px var(--shadow); }
.curr-flag { font-size:1.9rem; min-width:36px; text-align:center; }
.curr-info { flex:1; min-width:0; }
.curr-name { font-size:0.75rem; color:var(--muted); margin-bottom:0.1rem; }
.curr-code { font-family:'JetBrains Mono',monospace; font-size:0.8rem; font-weight:600; color:var(--muted); margin-bottom:0.2rem; }
.curr-price { font-family:'JetBrains Mono',monospace; font-size:1.1rem; font-weight:600; transition:color 0.4s; }
.curr-price.flash-up   { color:var(--up);   }
.curr-price.flash-down { color:var(--down); }
.curr-right { text-align:left; }
.curr-change { font-family:'JetBrains Mono',monospace; font-size:0.78rem; font-weight:600; padding:0.2rem 0.5rem; border-radius:6px; display:inline-block; margin-bottom:0.2rem; }
.curr-egp { font-size:0.7rem; color:var(--muted2); }

/* ===== TICKER ===== */
.ticker-wrap { background:var(--surface2); border-top:1px solid var(--border); border-bottom:1px solid var(--border); overflow:hidden; padding:0.55rem 0; margin-bottom:3.5rem; position:relative; z-index:1; }
.ticker-track { display:flex; gap:3rem; animation:ticker 30s linear infinite; width:max-content; }
@keyframes ticker { from{transform:translateX(0)} to{transform:translateX(-50%)} }
.ticker-item { display:flex; align-items:center; gap:0.5rem; white-space:nowrap; font-family:'JetBrains Mono',monospace; font-size:0.8rem; }
.ticker-name { color:var(--muted); }
.ticker-price { color:var(--text); font-weight:600; }
.ticker-up   { color:var(--up); }
.ticker-down { color:var(--down); }

/* ===== FOOTER ===== */
footer {
  border-top:1px solid var(--border); padding:1.8rem 5vw;
  display:flex; justify-content:space-between; align-items:center;
  color:var(--muted2); font-size:0.8rem; position:relative; z-index:1; flex-wrap:wrap; gap:0.8rem;
}
.footer-logo { color:var(--gold); font-family:'Playfair Display',serif; font-weight:700; }
.footer-note { font-family:'JetBrains Mono',monospace; font-size:0.7rem; }

/* ===== CURRENCY SWITCHER in NAV ===== */
.curr-switcher {
  position: relative;
}
.curr-switcher-btn {
  display: flex; align-items: center; gap: 0.45rem;
  background: var(--surface2);
  border: 1.5px solid var(--border);
  border-radius: 100px;
  padding: 0.3rem 0.9rem 0.3rem 0.6rem;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 0.82rem; font-weight: 700;
  color: var(--text);
  transition: all 0.2s;
  white-space: nowrap;
}
.curr-switcher-btn:hover { border-color: var(--gold); color: var(--gold); }
.curr-switcher-btn .csb-flag { font-size: 1.1rem; line-height: 1; }
.curr-switcher-btn .csb-arrow {
  font-size: 0.6rem; color: var(--muted);
  transition: transform 0.3s;
  margin-right: 2px;
}
.curr-switcher.open .csb-arrow { transform: rotate(180deg); }

.curr-dropdown {
  position: absolute;
  top: calc(100% + 10px);
  left: 50%; transform: translateX(-50%);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 0.6rem;
  min-width: 220px;
  box-shadow: 0 20px 50px var(--shadow);
  z-index: 200;
  display: none;
  animation: dropIn 0.25s cubic-bezier(0.34,1.56,0.64,1) both;
}
[dir="rtl"] .curr-dropdown { left: auto; right: 0; transform: none; }
[dir="ltr"] .curr-dropdown { right: auto; left: 0; transform: none; }

@keyframes dropIn { from{opacity:0;transform:translateY(-8px) scale(0.96)} to{opacity:1;transform:translateY(0) scale(1)} }
.curr-switcher.open .curr-dropdown { display: block; }

.drop-label {
  font-size: 0.72rem; color: var(--muted2); font-weight: 700;
  padding: 0.3rem 0.6rem 0.5rem;
  letter-spacing: 1px; text-transform: uppercase;
  font-family: 'JetBrains Mono', monospace;
}
.drop-item {
  display: flex; align-items: center; gap: 0.7rem;
  padding: 0.6rem 0.8rem;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.15s;
  font-size: 0.88rem; font-weight: 600;
}
.drop-item:hover { background: var(--gold-dim); }
.drop-item.active { background: var(--gold-dim); color: var(--gold); }
.drop-item .di-flag { font-size: 1.2rem; }
.drop-item .di-code { font-family:'JetBrains Mono',monospace; font-size:0.78rem; color:var(--muted); margin-right:auto; margin-left:auto; }
.drop-item .di-check { color: var(--gold); font-size: 0.8rem; margin-right: auto; }
[dir="ltr"] .drop-item .di-check { margin-right: 0; margin-left: auto; }

@media(max-width:768px){ nav{padding:0 4vw;} .hero{padding:50px 4vw 40px;} .section{padding:0 4vw 50px;} .currencies-grid{grid-template-columns:1fr 1fr;} }
@media(max-width:520px){ .live-badge{display:none;} }
@media(max-width:420px){ .currencies-grid{grid-template-columns:1fr;} .metal-price{font-size:1.8rem;} .logo-text{display:none;} }
